{"ast":null,"code":"document.addEventListener('turbolinks:load', function () {\n  var timerField = document.getElementById('timer');\n\n  if (timerField) {\n    var timerValue = timerField.dataset.timer;\n    var timerFinish = new Date(timerValue).getTime();\n    var delay = 1000;\n    setInterval(changeTimerValue, delay, timerField, timerFinish);\n  }\n});\n\nfunction changeTimerValue(timerField, timerFinish) {\n  var timeNow = new Date().getTime();\n  var timeRemain = timerFinish - timeNow;\n  var minutes = Math.floor(timeRemain / (1000 * 60) % 60);\n  var seconds = Math.floor(timeRemain % (1000 * 60) / 1000);\n  minutes = minutes < 10 ? \"0\" + minutes : minutes;\n  seconds = seconds < 10 ? \"0\" + seconds : seconds;\n  timerField.textContent = minutes + \":\" + seconds;\n\n  if (timeRemain <= 0) {\n    timerField.textContent = \"00:00\"; //const form = document.querySelector('.testpassage-form')\n    //const testpassageId = form.dataset.testpassageId\n    //document.querySelector('.testpassage-form[data-testpassage-id=\"' + testpassageId + '\"]').submit()\n  }\n}","map":{"version":3,"sources":["/home/viktor/Desktop/TestGuru/app/javascript/utilities/timer.js"],"names":["document","addEventListener","timerField","getElementById","timerValue","dataset","timer","timerFinish","Date","getTime","delay","setInterval","changeTimerValue","timeNow","timeRemain","minutes","Math","floor","seconds","textContent"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA2B,iBAA3B,EAA8C,YAAU;AACtD,MAAMC,UAAU,GAAGF,QAAQ,CAACG,cAAT,CAAwB,OAAxB,CAAnB;;AAEE,MAAID,UAAJ,EAAgB;AACZ,QAAME,UAAU,GAAGF,UAAU,CAACG,OAAX,CAAmBC,KAAtC;AACA,QAAIC,WAAW,GAAG,IAAIC,IAAJ,CAASJ,UAAT,EAAqBK,OAArB,EAAlB;AACA,QAAIC,KAAK,GAAG,IAAZ;AACAC,IAAAA,WAAW,CAACC,gBAAD,EAAmBF,KAAnB,EAA0BR,UAA1B,EAAsCK,WAAtC,CAAX;AACH;AACJ,CATD;;AAWA,SAASK,gBAAT,CAA0BV,UAA1B,EAAsCK,WAAtC,EAAmD;AAC/C,MAAIM,OAAO,GAAG,IAAIL,IAAJ,GAAWC,OAAX,EAAd;AACA,MAAIK,UAAU,GAAGP,WAAW,GAAGM,OAA/B;AAEA,MAAIE,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAYH,UAAU,IAAI,OAAO,EAAX,CAAX,GAA6B,EAAxC,CAAd;AACA,MAAII,OAAO,GAAGF,IAAI,CAACC,KAAL,CAAYH,UAAU,IAAI,OAAO,EAAX,CAAX,GAA6B,IAAxC,CAAd;AAEAC,EAAAA,OAAO,GAAGA,OAAO,GAAG,EAAV,GAAe,MAAMA,OAArB,GAA+BA,OAAzC;AACAG,EAAAA,OAAO,GAAGA,OAAO,GAAG,EAAV,GAAe,MAAMA,OAArB,GAA+BA,OAAzC;AAEAhB,EAAAA,UAAU,CAACiB,WAAX,GAAyBJ,OAAO,GAAG,GAAV,GAAgBG,OAAzC;;AAEA,MAAIJ,UAAU,IAAI,CAAlB,EAAqB;AACjBZ,IAAAA,UAAU,CAACiB,WAAX,GAAyB,OAAzB,CADiB,CAGjB;AACA;AAEA;AACH;AACJ","sourcesContent":["document.addEventListener ('turbolinks:load', function(){\n  const timerField = document.getElementById('timer')\n\n    if (timerField) {\n        const timerValue = timerField.dataset.timer\n        let timerFinish = new Date(timerValue).getTime()\n        let delay = 1000\n        setInterval(changeTimerValue, delay, timerField, timerFinish)\n    }\n})\n\nfunction changeTimerValue(timerField, timerFinish) {\n    let timeNow = new Date().getTime()\n    let timeRemain = timerFinish - timeNow\n\n    let minutes = Math.floor((timeRemain / (1000 * 60)) % 60)\n    let seconds = Math.floor((timeRemain % (1000 * 60)) / 1000)\n\n    minutes = minutes < 10 ? \"0\" + minutes : minutes\n    seconds = seconds < 10 ? \"0\" + seconds : seconds\n\n    timerField.textContent = minutes + \":\" + seconds\n\n    if (timeRemain <= 0) {\n        timerField.textContent = \"00:00\"\n\n        //const form = document.querySelector('.testpassage-form')\n        //const testpassageId = form.dataset.testpassageId\n\n        //document.querySelector('.testpassage-form[data-testpassage-id=\"' + testpassageId + '\"]').submit()\n    }\n}"]},"metadata":{},"sourceType":"module"}